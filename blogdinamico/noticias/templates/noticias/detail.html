{% extends 'base.html' %}

{% block content %}

<article class="noticia-detalhe">
    <header>
        <h1>{{ noticia.titulo }}</h1>
        <p class="data-publicacao">
            Publicado em {{ noticia.data_postagem|date:"d 'de' F 'de' Y" }} — há {{ noticia.data_postagem|timesince }}
        </p>
    </header>

    <section class="imagem-noticia">
        <img src="{{ noticia.noticia_url|default:'https://via.placeholder.com/150' }}" alt="Imagem da Notícia: {{ noticia.titulo }}">
    </section>

    <section class="conteudo-noticia">
        <p>{{ noticia.conteudo|safe }}</p>
    </section>

    <footer class="categorias-noticia">
        <p><strong>Categorias:</strong>
            {% for categoria in noticia.categorias.all %}
                <span class="categoria">{{ categoria.nome }}</span>{% if not forloop.last %}, {% endif %}
            {% endfor %}
        </p>
    </footer>

    <!-- Links para edição e exclusão -->
    <div class="noticia-actions">
        <a href="{% url 'noticias:atualizar' noticia.id %}" class="btn btn-secondary">Editar Notícia</a>
        <a href="{% url 'noticias:excluir' noticia.id %}" class="btn btn-secondary">Excluir Notícia</a>
    </div>
</article>

{% endblock content %}
